{% extends "base.html" %}

{% block title %}Documentation - {{ config.COIN_NAME }}{% endblock %}

{% block content %}
<div class="docs-wrapper">
    <div class="docs-sidebar">
        <h3>Documentation</h3>
        <nav class="docs-nav">
            <a href="#" data-tab="overview" class="tab-link active">Overview</a>
            <a href="#" data-tab="mining" class="tab-link">Mining</a>
            <a href="#" data-tab="building" class="tab-link">Building</a>
            <a href="#" data-tab="rpc" class="tab-link">RPC API</a>
            <a href="#" data-tab="bitokpow" class="tab-link">BitokPOW</a>
            <a href="#" data-tab="manifesto" class="tab-link">Manifesto</a>
        </nav>
    </div>

    <main class="docs-main">
        <!-- Overview Tab -->
        <div class="tab-content active" id="overview">
            <h1>What is Bitok</h1>
            <p class="lead">What if Bitcoin had stayed CPU-mineable with complete Satoshi-era codebase? No features added. No ideology injected. No attempt to "fix" Bitcoin according to modern tastes.</p>

            <div class="info-box">
                <h3>Bitcoin v0.3.19 from 2010 was the last release under Satoshi's direct involvement. Everything after that is history. Not destiny.</h3>
                <p>I've been running an experiment - the original v0.3.19 codebase. The same rules. The same behavior. One major change: a mining algorithm that GPUs and ASICs can't easily dominate. All critical security fixes in place from day one. Adapted only as much as required to run on modern operating systems and **resist GPU mining**.</p>
            </div>

            <h2>Key Changes Bitok 0.3.19 from Bitcoin v0.3.19</h2>
            <div class="grid-2">
                <div class="feature-card">
                    <h4>✅ Modern System Compatibility</h4>
                    <p>Updated build system for OpenSSL 3.x, Boost 1.74+, GCC 11+, wxWidgets 3.2</p>
                </div>
                <div class="feature-card">
                    <h4>✅ Yespower Proof-of-Work</h4>
                    <p>Replaced SHA-256 with Yespower 1.0 for CPU-friendly, GPU/ASIC-resistant mining</p>
                </div>
                <div class="feature-card">
                    <h4>✅ New Genesis Block</h4>
                    <p>Separate network. No confusion with BTC. No replay attacks. Clean slate.</p>
                </div>
                <div class="feature-card">
                    <h4>✅ Security Fixes Included</h4>
                    <p>All Satoshi-era code security fixes present from launch</p>
                </div>
            </div>

            <h2>What's Identical to Bitcoin v0.3.19</h2>
            <ul class="check-list">
                <li>Same transaction format</li>
                <li>Same script system</li>
                <li>Same networking code</li>
                <li>Same wallet behavior</li>
                <li>21M supply cap</li>
                <li>Halving schedule</li>
                <li>10 minute blocks</li>
            </ul>

            <div class="callout-info">
                <strong>Security</strong>
                <p>Bitok includes all critical security fixes (value overflow protection, checkpoints, DoS limits, IsStandard filtering) while maintaining the original Bitcoin design by Satoshi and his philosophy, before later protocol changes.</p>
            </div>

            <h2>Technical Specifications</h2>
            <table class="specs-table">
                <tr>
                    <td><strong>Algorithm</strong></td>
                    <td>Yespower 1.0 (N=2048, r=32, personalization="BitokPoW")</td>
                </tr>
                <tr>
                    <td><strong>Block Time</strong></td>
                    <td>10 minutes (600 seconds)</td>
                </tr>
                <tr>
                    <td><strong>Block Reward</strong></td>
                    <td>50 BITOK, halving every 210,000 blocks</td>
                </tr>
                <tr>
                    <td><strong>Max Supply</strong></td>
                    <td>21,000,000 BITOK</td>
                </tr>
                <tr>
                    <td><strong>Difficulty Adjustment</strong></td>
                    <td>Every 2016 blocks (~2 weeks)</td>
                </tr>
                <tr>
                    <td><strong>Coinbase Maturity</strong></td>
                    <td>100 blocks</td>
                </tr>
                <tr>
                    <td><strong>P2P Port</strong></td>
                    <td>18333</td>
                </tr>
                <tr>
                    <td><strong>RPC Port</strong></td>
                    <td>8332</td>
                </tr>
            </table>

            <h3>Genesis Block</h3>
            <pre class="code-block">Hash:      0x0290400ea28d3fe79d102ca6b7cd11cee5eba9f17f2046c303d92f65d6ed2617
Message:   "The Times 03/Jan/2009 Chancellor on brink of second bailout for banks"
nBits:     0x1effffff
nNonce:    37137</pre>
        </div>

        <!-- Mining Tab -->
        <div class="tab-content" id="mining">
            <h1>Mining Bitok</h1>
            <p class="lead">Bitok uses Yespower proof-of-work, designed to keep mining accessible to regular users with regular computers.</p>

            <h2>Start Mining</h2>
            <h3>Daemon (Command Line)</h3>
            <pre class="code-block"># Mine with all CPU cores
./bitokd -gen

# Mine with specific number of cores
./bitokd -gen -genproclimit=4

# Start daemon in background with mining
./bitokd -daemon -gen</pre>

            <h3>GUI Wallet</h3>
            <p>Generate Coins</p>
            <p>Click button to enable mining and adjust the processor limit if desired.</p>

            <h2>Mining Commands (RPC)</h2>
            <pre class="code-block"># Enable mining with 4 threads
./bitokd setgenerate true 4

# Check mining status
./bitokd getgenerate

# Get network difficulty
./bitokd getdifficulty

# Get general info (includes mining status)
./bitokd getinfo</pre>

            <h2>Mining Pool Integration</h2>
            <p>Existing CPU miners like <code>cpuminer-multi</code> or <code>cpuminer-opt</code> support Yespower with proper parameters:</p>
            <pre class="code-block">./cpuminer \
    --algo=yespower \
    --param-n=2048 \
    --param-r=32 \
    --param-key="BitokPoW" \
    --url=http://127.0.0.1:8332 \
    --user=rpcuser \
    --pass=rpcpassword</pre>
        </div>

        <!-- Building Tab -->
        <div class="tab-content" id="building">
            <h1>Building from Source</h1>

            <div class="platform-selector">
                <button class="platform-btn active" data-platform="unix">Linux/Unix</button>
                <button class="platform-btn" data-platform="macos">macOS</button>
                <button class="platform-btn" data-platform="windows">Windows</button>
            </div>

            <!-- Unix Build Instructions -->
            <div class="platform-content active" id="unix">
                <h2>Ubuntu / Debian Build</h2>
                <p>Compatible with Ubuntu 24.04 LTS and modern toolchains (GCC 11+, OpenSSL 3.x, Boost 1.74+)</p>

                <h3>Install Dependencies</h3>
                <pre class="code-block">sudo apt-get update
sudo apt-get install build-essential
sudo apt-get install libssl-dev
sudo apt-get install libdb-dev libdb5.3-dev
sudo apt-get install libboost-all-dev

# Optional: For GUI wallet
sudo apt-get install libwxgtk3.2-dev
sudo apt-get install libgtk-3-dev</pre>

                <h3>Build Daemon</h3>
                <pre class="code-block">make -f makefile.unix clean
make -f makefile.unix</pre>

                <h3>Build GUI Wallet</h3>
                <pre class="code-block">make -f makefile.unix gui</pre>

                <h3>Build Both</h3>
                <pre class="code-block">make -f makefile.unix all</pre>

                <h3>CPU Optimization</h3>
                <p>Default builds use <code>-march=native</code> for maximum performance on your system.</p>
                <p>For distribution binaries:</p>
                <pre class="code-block"># Modern CPUs (2015+)
make -f makefile.unix all YESPOWER_ARCH=x86-64-v3

# Maximum compatibility
make -f makefile.unix all YESPOWER_ARCH=x86-64</pre>

                <h3>Install</h3>
                <pre class="code-block">sudo make -f makefile.unix install</pre>

                <h3>Data Directory</h3>
                <p><code>~/.bitok/</code></p>
                <p><strong>IMPORTANT:</strong> Back up <code>~/.bitok/wallet.dat</code> regularly!</p>
            </div>

            <!-- macOS Build Instructions -->
            <div class="platform-content" id="macos">
                <h2>macOS Build (11.0+ Big Sur)</h2>
                <p>Supports both Apple Silicon (arm64) and Intel (x86_64)</p>

                <h3>Install Xcode Command Line Tools</h3>
                <pre class="code-block">xcode-select --install</pre>

                <h3>Install Homebrew</h3>
                <pre class="code-block">/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"</pre>

                <h3>Install Dependencies</h3>
                <pre class="code-block">brew install boost berkeley-db@4 openssl@3 wxwidgets</pre>

                <h3>Build Daemon</h3>
                <pre class="code-block">make -f makefile.osx bitokd</pre>

                <h3>Build GUI Wallet</h3>
                <pre class="code-block">make -f makefile.osx bitok</pre>

                <h3>Build Both</h3>
                <pre class="code-block">make -f makefile.osx all</pre>

                <h3>Create .app Bundle</h3>
                <pre class="code-block">make -f makefile.osx bundle</pre>

                <h3>CPU Optimization</h3>
                <pre class="code-block"># Native build for your CPU
make -f makefile.osx ARCH="$(uname -m)" all

# Universal binary (ARM + Intel)
make -f makefile.osx all

# Intel optimized
make -f makefile.osx ARCH=x86_64 YESPOWER_ARCH=x86-64-v3 all

# Apple Silicon only
make -f makefile.osx ARCH=arm64 all</pre>

                <h3>Install</h3>
                <pre class="code-block"># Install daemon
sudo make -f makefile.osx install

# Install GUI to /Applications
sudo make -f makefile.osx install-gui</pre>

                <h3>Data Directory</h3>
                <p><code>~/Library/Application Support/Bitok/</code></p>
                <p><strong>IMPORTANT:</strong> Back up <code>wallet.dat</code> regularly!</p>
            </div>

            <!-- Windows Build Instructions -->
            <div class="platform-content" id="windows">
                <h2>Windows Build (10+ 64-bit)</h2>

                <h3>Method 1: Cross-Compile from Ubuntu (Recommended)</h3>
                <h4>Install Prerequisites on Ubuntu</h4>
                <pre class="code-block">sudo apt-get update
sudo apt-get install -y \
    mingw-w64 \
    g++-mingw-w64-x86-64 \
    wine64</pre>

                <h4>Build Windows Binaries</h4>
                <pre class="code-block"># GUI wallet (main target for Windows)
make -f makefile.mingw gui MARCH=x86-64-v3
x86_64-w64-mingw32-strip bitok.exe</pre>

                <h4>Test with Wine</h4>
                <pre class="code-block">wine64 bitokd.exe --help</pre>

                <h3>Method 2: Native Windows Build (MSYS2)</h3>
                <h4>Install MSYS2</h4>
                <p>Download from <a href="https://www.msys2.org/" target="_blank">https://www.msys2.org/</a></p>

                <h4>Install Dependencies (in MSYS2 terminal)</h4>
                <pre class="code-block">pacman -Syu
pacman -S --needed \
    mingw-w64-x86_64-gcc \
    mingw-w64-x86_64-boost \
    mingw-w64-x86_64-openssl \
    mingw-w64-x86_64-db \
    mingw-w64-x86_64-wxWidgets3.2 \
    make</pre>

                <h4>Build</h4>
                <pre class="code-block"># GUI wallet (main target)
make -f makefile.mingw gui MARCH=x86-64-v3

# Daemon (optional)
make -f makefile.mingw daemon MARCH=x86-64-v3</pre>

                <h3>Running on Windows</h3>
                <p>Double-click <code>bitok.exe</code> or run from command prompt.</p>

                <h3>Data Directory</h3>
                <p><code>%APPDATA%\Bitok\</code></p>
                <p><strong>IMPORTANT:</strong> Back up <code>wallet.dat</code> regularly!</p>
            </div>

            <div class="callout-warning">
                <strong>Wallet Security</strong>
                <p>Back up your <code>wallet.dat</code> file. If you lose it, coins are gone forever. There is no recovery mechanism.</p>
            </div>
        </div>

        <!-- RPC API Tab -->
        <div class="tab-content" id="rpc">
            <h1>RPC API Reference</h1>
            <p class="lead">JSON-RPC 1.0 interface for programmatic access. Essential for exchanges, mining pools, block explorers, and integrations.</p>

            <div class="rpc-info">
                <table class="specs-table">
                    <tr>
                        <td><strong>Protocol</strong></td>
                        <td>JSON-RPC 1.0</td>
                    </tr>
                    <tr>
                        <td><strong>Transport</strong></td>
                        <td>HTTP POST</td>
                    </tr>
                    <tr>
                        <td><strong>Default Port</strong></td>
                        <td>8332</td>
                    </tr>
                    <tr>
                        <td><strong>Binding</strong></td>
                        <td>127.0.0.1 (localhost only)</td>
                    </tr>
                    <tr>
                        <td><strong>Authentication</strong></td>
                        <td>HTTP Basic Auth</td>
                    </tr>
                </table>
            </div>

            <h2>Connection</h2>
            <pre class="code-block"># Start daemon with RPC enabled
./bitokd -rpcuser=yourusername -rpcpassword=yourpassword -server

# Execute RPC command
./bitokd -rpcuser=yourusername -rpcpassword=yourpassword getinfo</pre>

            <h2>Available Commands</h2>

            <div class="rpc-section">
                <h3>General Information</h3>

                <div class="rpc-command">
                    <h4>help</h4>
                    <p>Lists all available RPC commands.</p>
                    <div class="rpc-details">
                        <p><strong>Parameters:</strong> None</p>
                        <p><strong>Returns:</strong> String containing list of commands</p>
                        <pre class="code-block">./bitokd help</pre>
                    </div>
                </div>

                <div class="rpc-command">
                    <h4>getinfo</h4>
                    <p>Returns general information about the node and wallet.</p>
                    <div class="rpc-details">
                        <p><strong>Parameters:</strong> None</p>
                        <p><strong>Returns:</strong> Object with balance, blocks, connections, proxy, generate, genproclimit, difficulty</p>
                        <pre class="code-block">./bitokd getinfo

# Response:
{
  "balance": 150.00000000,
  "blocks": 12450,
  "connections": 8,
  "proxy": "",
  "generate": true,
  "genproclimit": 4,
  "difficulty": 1.00000000
}</pre>
                    </div>
                </div>

                <div class="rpc-command">
                    <h4>stop</h4>
                    <p>Gracefully shuts down the Bitok server.</p>
                    <div class="rpc-details">
                        <p><strong>Parameters:</strong> None</p>
                        <p><strong>Returns:</strong> String confirmation message</p>
                        <pre class="code-block">./bitokd stop</pre>
                    </div>
                </div>
            </div>

            <div class="rpc-section">
                <h3>Blockchain Operations</h3>

                <div class="rpc-command">
                    <h4>getblockcount</h4>
                    <p>Returns the total number of blocks in the longest block chain.</p>
                    <div class="rpc-details">
                        <p><strong>Parameters:</strong> None</p>
                        <p><strong>Returns:</strong> Number (block count)</p>
                        <pre class="code-block">./bitokd getblockcount</pre>
                    </div>
                </div>

                <div class="rpc-command">
                    <h4>getblocknumber</h4>
                    <p>Returns the block number of the latest block (0-indexed height).</p>
                    <div class="rpc-details">
                        <p><strong>Parameters:</strong> None</p>
                        <p><strong>Returns:</strong> Number (block height)</p>
                        <pre class="code-block">./bitokd getblocknumber</pre>
                    </div>
                </div>

                <div class="rpc-command">
                    <h4>getbestblockhash</h4>
                    <p>Returns the hash of the best (tip) block in the longest chain.</p>
                    <div class="rpc-details">
                        <p><strong>Parameters:</strong> None</p>
                        <p><strong>Returns:</strong> String (block hash)</p>
                        <pre class="code-block">./bitokd getbestblockhash</pre>
                    </div>
                </div>

                <div class="rpc-command">
                    <h4>getblockhash &lt;index&gt;</h4>
                    <p>Returns the hash of the block at a specific height.</p>
                    <div class="rpc-details">
                        <p><strong>Parameters:</strong> index (number) - Block height</p>
                        <p><strong>Returns:</strong> String (block hash)</p>
                        <pre class="code-block">./bitokd getblockhash 0</pre>
                    </div>
                </div>

                <div class="rpc-command">
                    <h4>getblock &lt;hash&gt;</h4>
                    <p>Returns detailed information about a block given its hash.</p>
                    <div class="rpc-details">
                        <p><strong>Parameters:</strong> hash (string) - Block hash</p>
                        <p><strong>Returns:</strong> Object with hash, version, previousblockhash, merkleroot, time, bits, nonce, height, tx[], nextblockhash</p>
                        <pre class="code-block">./bitokd getblock "000007a5d9c7..."</pre>
                    </div>
                </div>

                <div class="rpc-command">
                    <h4>getdifficulty</h4>
                    <p>Returns the current proof-of-work difficulty.</p>
                    <div class="rpc-details">
                        <p><strong>Parameters:</strong> None</p>
                        <p><strong>Returns:</strong> Number (difficulty value)</p>
                        <pre class="code-block">./bitokd getdifficulty</pre>
                    </div>
                </div>
            </div>

            <div class="rpc-section">
                <h3>Wallet Operations</h3>

                <div class="rpc-command">
                    <h4>getbalance</h4>
                    <p>Returns the total available balance in the wallet.</p>
                    <div class="rpc-details">
                        <p><strong>Parameters:</strong> None</p>
                        <p><strong>Returns:</strong> Number (balance in BITOK)</p>
                        <pre class="code-block">./bitokd getbalance</pre>
                    </div>
                </div>

                <div class="rpc-command">
                    <h4>getnewaddress [label]</h4>
                    <p>Generates a new Bitok address for receiving payments.</p>
                    <div class="rpc-details">
                        <p><strong>Parameters:</strong> label (string, optional) - Label for the address</p>
                        <p><strong>Returns:</strong> String (new Bitok address)</p>
                        <pre class="code-block">./bitokd getnewaddress
./bitokd getnewaddress "customer123"</pre>
                    </div>
                </div>

                <div class="rpc-command">
                    <h4>setlabel &lt;address&gt; &lt;label&gt;</h4>
                    <p>Sets or updates the label associated with an address.</p>
                    <div class="rpc-details">
                        <p><strong>Parameters:</strong> address (string), label (string)</p>
                        <p><strong>Returns:</strong> null</p>
                        <pre class="code-block">./bitokd setlabel "1A1zP1eP5..." "my_label"</pre>
                    </div>
                </div>

                <div class="rpc-command">
                    <h4>getlabel &lt;address&gt;</h4>
                    <p>Retrieves the label associated with an address.</p>
                    <div class="rpc-details">
                        <p><strong>Parameters:</strong> address (string)</p>
                        <p><strong>Returns:</strong> String (label)</p>
                        <pre class="code-block">./bitokd getlabel "1A1zP1eP5..."</pre>
                    </div>
                </div>

                <div class="rpc-command">
                    <h4>getaddressesbylabel &lt;label&gt;</h4>
                    <p>Returns all addresses associated with a specific label.</p>
                    <div class="rpc-details">
                        <p><strong>Parameters:</strong> label (string)</p>
                        <p><strong>Returns:</strong> Array of addresses</p>
                        <pre class="code-block">./bitokd getaddressesbylabel "merchant_deposits"</pre>
                    </div>
                </div>

                <div class="rpc-command">
                    <h4>getreceivedbyaddress &lt;address&gt; [minconf]</h4>
                    <p>Returns the total amount received by a specific address.</p>
                    <div class="rpc-details">
                        <p><strong>Parameters:</strong> address (string), minconf (number, optional, default=1)</p>
                        <p><strong>Returns:</strong> Number (amount in BITOK)</p>
                        <pre class="code-block">./bitokd getreceivedbyaddress "1A1zP1eP5..." 6</pre>
                    </div>
                </div>

                <div class="rpc-command">
                    <h4>getreceivedbylabel &lt;label&gt; [minconf]</h4>
                    <p>Returns the total amount received by all addresses with a label.</p>
                    <div class="rpc-details">
                        <p><strong>Parameters:</strong> label (string), minconf (number, optional)</p>
                        <p><strong>Returns:</strong> Number (amount in BITOK)</p>
                        <pre class="code-block">./bitokd getreceivedbylabel "merchant_deposits" 6</pre>
                    </div>
                </div>

                <div class="rpc-command">
                    <h4>listreceivedbyaddress [minconf] [includeempty]</h4>
                    <p>Lists amounts received by each address in the wallet.</p>
                    <div class="rpc-details">
                        <p><strong>Parameters:</strong> minconf (number, optional), includeempty (boolean, optional)</p>
                        <p><strong>Returns:</strong> Array of objects with address, label, amount, confirmations</p>
                        <pre class="code-block">./bitokd listreceivedbyaddress 6 true</pre>
                    </div>
                </div>

                <div class="rpc-command">
                    <h4>listreceivedbylabel [minconf] [includeempty]</h4>
                    <p>Lists amounts received grouped by label.</p>
                    <div class="rpc-details">
                        <p><strong>Parameters:</strong> minconf (number, optional), includeempty (boolean, optional)</p>
                        <p><strong>Returns:</strong> Array of objects with label, amount, confirmations</p>
                        <pre class="code-block">./bitokd listreceivedbylabel 6 false</pre>
                    </div>
                </div>

                <div class="rpc-command">
                    <h4>listunspent [minconf] [maxconf]</h4>
                    <p>Returns array of unspent transaction outputs (UTXOs).</p>
                    <div class="rpc-details">
                        <p><strong>Parameters:</strong> minconf (number, optional), maxconf (number, optional)</p>
                        <p><strong>Returns:</strong> Array of objects with txid, vout, address, scriptPubKey, amount, confirmations</p>
                        <pre class="code-block">./bitokd listunspent 6</pre>
                    </div>
                </div>
            </div>

            <div class="rpc-section">
                <h3>Transaction Operations</h3>

                <div class="rpc-command">
                    <h4>sendtoaddress &lt;address&gt; &lt;amount&gt; [comment] [comment-to]</h4>
                    <p>Sends BITOK to a specified address.</p>
                    <div class="rpc-details">
                        <p><strong>Parameters:</strong> address (string), amount (number), comment (string, optional), comment-to (string, optional)</p>
                        <p><strong>Returns:</strong> String (transaction ID)</p>
                        <pre class="code-block">./bitokd sendtoaddress "1A1zP1eP5..." 10.50</pre>
                    </div>
                </div>

                <div class="rpc-command">
                    <h4>gettransaction &lt;txid&gt;</h4>
                    <p>Get detailed information about a transaction.</p>
                    <div class="rpc-details">
                        <p><strong>Parameters:</strong> txid (string)</p>
                        <p><strong>Returns:</strong> Object with transaction details</p>
                        <pre class="code-block">./bitokd gettransaction "a1b2c3d4..."</pre>
                    </div>
                </div>

                <div class="rpc-command">
                    <h4>getrawtransaction &lt;txid&gt; [verbose]</h4>
                    <p>Returns raw transaction data (hex or decoded).</p>
                    <div class="rpc-details">
                        <p><strong>Parameters:</strong> txid (string), verbose (number, optional, default=0)</p>
                        <p><strong>Returns:</strong> String (hex) if verbose=0, Object if verbose≠0</p>
                        <pre class="code-block">./bitokd getrawtransaction "a1b2c3d4..." 1</pre>
                    </div>
                </div>

                <div class="rpc-command">
                    <h4>getrawmempool</h4>
                    <p>Returns all transaction IDs in the memory pool (unconfirmed).</p>
                    <div class="rpc-details">
                        <p><strong>Parameters:</strong> None</p>
                        <p><strong>Returns:</strong> Array of transaction IDs</p>
                        <pre class="code-block">./bitokd getrawmempool</pre>
                    </div>
                </div>

                <div class="rpc-command">
                    <h4>listtransactions [count] [includegenerated]</h4>
                    <p>Lists recent wallet transactions.</p>
                    <div class="rpc-details">
                        <p><strong>Parameters:</strong> count (number, optional), includegenerated (boolean, optional)</p>
                        <p><strong>Returns:</strong> Array of transaction objects</p>
                        <pre class="code-block">./bitokd listtransactions 20 true</pre>
                    </div>
                </div>
            </div>

            <div class="rpc-section">
                <h3>Mining Operations</h3>

                <div class="rpc-command">
                    <h4>getgenerate</h4>
                    <p>Returns the current mining status.</p>
                    <div class="rpc-details">
                        <p><strong>Parameters:</strong> None</p>
                        <p><strong>Returns:</strong> Boolean (true if mining)</p>
                        <pre class="code-block">./bitokd getgenerate</pre>
                    </div>
                </div>

                <div class="rpc-command">
                    <h4>setgenerate &lt;generate&gt; [genproclimit]</h4>
                    <p>Enables or disables mining.</p>
                    <div class="rpc-details">
                        <p><strong>Parameters:</strong> generate (boolean), genproclimit (number, optional, -1=all cores)</p>
                        <p><strong>Returns:</strong> null</p>
                        <pre class="code-block"># Enable mining with 4 cores
./bitokd setgenerate true 4

# Enable mining with all cores
./bitokd setgenerate true

# Disable mining
./bitokd setgenerate false</pre>
                    </div>
                </div>
            </div>

            <div class="rpc-section">
                <h3>Network Operations</h3>

                <div class="rpc-command">
                    <h4>getconnectioncount</h4>
                    <p>Returns the number of connections to other nodes.</p>
                    <div class="rpc-details">
                        <p><strong>Parameters:</strong> None</p>
                        <p><strong>Returns:</strong> Number (connection count)</p>
                        <pre class="code-block">./bitokd getconnectioncount</pre>
                    </div>
                </div>

                <div class="rpc-command">
                    <h4>getpeerinfo</h4>
                    <p>Returns data about each connected network node.</p>
                    <div class="rpc-details">
                        <p><strong>Parameters:</strong> None</p>
                        <p><strong>Returns:</strong> Array of objects with addr, services, lastsend, lastrecv, conntime, version, inbound, startingheight</p>
                        <pre class="code-block">./bitokd getpeerinfo</pre>
                    </div>
                </div>
            </div>

            <div class="rpc-section">
                <h3>Utility Operations</h3>

                <div class="rpc-command">
                    <h4>validateaddress &lt;address&gt;</h4>
                    <p>Validates a Bitok address and returns information about it.</p>
                    <div class="rpc-details">
                        <p><strong>Parameters:</strong> address (string)</p>
                        <p><strong>Returns:</strong> Object with address, isvalid, ismine, label</p>
                        <pre class="code-block">./bitokd validateaddress "1BvBMSEY..."</pre>
                    </div>
                </div>
            </div>

            <h2>Python Example</h2>
            <pre class="code-block">import requests
import json

class BitokRPC:
    def __init__(self, user, password, host='127.0.0.1', port=8332):
        self.url = f'http://{host}:{port}/'
        self.auth = (user, password)
        self.headers = {'content-type': 'application/json'}
        self.id = 0

    def call(self, method, params=[]):
        self.id += 1
        payload = {
            'jsonrpc': '1.0',
            'id': self.id,
            'method': method,
            'params': params
        }
        response = requests.post(
            self.url,
            data=json.dumps(payload),
            headers=self.headers,
            auth=self.auth
        )
        return response.json()['result']

# Usage
rpc = BitokRPC('yourusername', 'yourpassword')
info = rpc.call('getinfo')
print(f"Balance: {info['balance']} BITOK")
print(f"Blocks: {info['blocks']}")</pre>

            <h2>cURL Example</h2>
            <pre class="code-block">curl --user yourusername:yourpassword \
     --data-binary '{"jsonrpc":"1.0","id":"1","method":"getinfo","params":[]}' \
     -H 'content-type: application/json;' \
     http://127.0.0.1:8332/</pre>
        </div>

        <!-- BitokPOW Tab -->
        <div class="tab-content" id="bitokpow">
            <h1>BitokPOW - Yespower Algorithm</h1>
            <p class="lead">CPU-optimized, GPU/ASIC-resistant mining as Satoshi intended.</p>

            <h2>Overview</h2>
            <p>Bitok replaces Bitcoin's SHA-256 proof-of-work with Yespower 1.0, a memory-hard, CPU-optimized hashing algorithm designed to resist GPU and ASIC acceleration.</p>

            <div class="quote-box">
                <p><em>"We should have a gentleman's agreement to postpone the GPU arms race as long as we can for the good of the network."</em></p>
                <p><strong>- Satoshi Nakamoto, December 12, 2010</strong></p>
            </div>

            <h2>What Changed</h2>
            <p>The entire change is swapping one hash function for another. Everything else — difficulty adjustment, block validation, consensus rules — remains exactly as Satoshi wrote it.</p>

            <div class="code-compare">
                <div>
                    <h4>Bitcoin (SHA-256)</h4>
                    <pre class="code-block">uint256 hash = block.GetHash();
if (hash <= target) {
    /* block found */
}</pre>
                </div>
                <div>
                    <h4>Bitok (Yespower)</h4>
                    <pre class="code-block">uint256 hash = YespowerHashBlock(&block, 80);
if (hash <= target) {
    /* block found */
}</pre>
                </div>
            </div>

            <h2>Yespower Parameters</h2>
            <pre class="code-block">yespower_params_t {
    .version = YESPOWER_1_0,
    .N = 2048,              // Memory cost (~128KB)
    .r = 32,                // Block size parameter
    .pers = "BitokPoW",     // Personalization string
    .perslen = 8
}</pre>

            <h2>Design Goals</h2>
            <table class="specs-table">
                <thead>
                    <tr>
                        <th>Goal</th>
                        <th>SHA-256</th>
                        <th>Yespower</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>CPU-friendly</td>
                        <td><span class="badge-no">No</span></td>
                        <td><span class="badge-yes">Yes</span></td>
                    </tr>
                    <tr>
                        <td>GPU-resistant</td>
                        <td><span class="badge-no">No</span></td>
                        <td><span class="badge-yes">Yes</span></td>
                    </tr>
                    <tr>
                        <td>ASIC-resistant</td>
                        <td><span class="badge-no">No</span></td>
                        <td><span class="badge-yes">Yes</span></td>
                    </tr>
                    <tr>
                        <td>Laptop mining viable</td>
                        <td><span class="badge-no">No</span></td>
                        <td><span class="badge-yes">Yes</span></td>
                    </tr>
                    <tr>
                        <td>Memory-hard</td>
                        <td><span class="badge-no">No</span></td>
                        <td><span class="badge-yes">Yes (~128KB/hash)</span></td>
                    </tr>
                </tbody>
            </table>

            <h2>Key Features</h2>
            <div class="feature-grid">
                <div class="feature-item">
                    <h4>Sequential Memory Initialization</h4>
                    <p>Must fill 128KB before starting. Cannot be parallelized. Cache-friendly for CPUs, cache-hostile for GPUs.</p>
                </div>
                <div class="feature-item">
                    <h4>Random Memory Access</h4>
                    <p>Pseudo-random reads from 128KB buffer. Memory latency becomes the bottleneck. GPUs have poor random memory access.</p>
                </div>
                <div class="feature-item">
                    <h4>SIMD Optimizations</h4>
                    <p>Uses SSE2, AVX, AVX2, and AVX512 instructions automatically. Modern CPUs benefit greatly, GPUs don't have equivalent instructions.</p>
                </div>
                <div class="feature-item">
                    <h4>Domain Separation</h4>
                    <p>"BitokPoW" personalization prevents cross-chain hash reuse and ensures uniqueness.</p>
                </div>
            </div>


          

            <h2>Why GPUs Can't Win</h2>
            <ul class="check-list">
                <li><strong>Memory Bandwidth:</strong> GPUs have high bandwidth but poor latency for random access patterns. Yespower's 128KB per hash with pseudo-random access exploits this weakness.</li>
                <li><strong>SIMD Instructions:</strong> Modern x86 CPUs have AVX2/AVX512 which Yespower leverages. GPU SIMD architectures don't map efficiently to Yespower operations.</li>
                <li><strong>Power Efficiency:</strong> A CPU uses 50-100W for reasonable hashrate. A GPU uses 250-350W for only 2-3x improvement. Cost per hash favors CPUs.</li>
            </ul>

            <h2>Security Analysis</h2>
            <p><strong>Preimage Attacks:</strong> Finding hash collision requires 2^256 operations. Both SHA-256 and Yespower are resistant.</p>
            <p><strong>GPU Mining Attacks:</strong> SHA-256 allows 100-1000x speedup with GPUs. Yespower reduces this to 2-3x while making GPUs uneconomical due to power costs.</p>
            <p><strong>ASIC Mining Attacks:</strong> SHA-256 ASICs provide 100,000x speedup over CPUs. Yespower's memory-hard design makes ASICs impractical (memory cost dominates chip design).</p>
            <p><strong>Memory-Hardness Attacks:</strong> Yespower requires 128KB per hash. Attempts to reduce memory usage result in exponentially slower performance.</p>

            <h2>Conclusion</h2>
            <p>Yespower proof-of-work implements Satoshi's vision of accessible CPU mining. Anyone with a laptop can participate in securing the network without specialized hardware.</p>
            <p><strong>This is not innovation. This is restoration.</strong></p>
        </div>

        <!-- Manifesto Tab -->
        <div class="tab-content" id="manifesto">
            <h1>Bitok Manifesto</h1>
            <p class="lead">An experiment in what Bitcoin would look like if Satoshi's vision of CPU mining had held up.</p>
            <h2>What Happened to Bitcoin</h2>
            <p>Bitcoin worked in 2010. You downloaded the software, clicked "Generate Coins," and your laptop found blocks. The network grew because participation was free and easy.</p>
            <p>Then GPUs happened. Then mining pools. Then FPGAs, ASICs. The barrier to entry went from "own a computer" to "have access to cheap electricity and specialized hardware."</p>
            <p>This was not a conspiracy. It was economics. SHA-256 happens to be very fast on parallel hardware. Someone was always going to optimize it.</p>

            <h2>What Satoshi Said About It</h2>
            <div class="quote-box">
                <p><em>"We should have a gentleman's agreement to postpone the GPU arms race as long as we can for the good of the network. It's much easier to get new users up to speed if they don't have to worry about GPU drivers and compatibility. It's nice how anyone with just a CPU can compete fairly equally right now."</em></p>
                <p><strong>- Satoshi Nakamoto, December 12, 2010</strong></p>
            </div>

            <div class="quote-box">
                <p><em>"GPUs are much less evenly distributed, so the generated coins only go towards rewarding 20% of the people for joining the network instead of 100%."</em></p>
                <p><strong>- To Laszlo Hanyecz (the pizza guy)</strong></p>
            </div>

            <div class="quote-box">
                <p><em>"It's inevitable that GPU compute clusters will eventually hog all the generated coins, but I don't want to hasten that day."</em></p>
                <p><strong>- Satoshi Nakamoto</strong></p>
            </div>

            <p>He knew. He just didn't have a solution at the time.</p>

            <h2>What Bitok Changes</h2>
            <div class="changes-list">
                <div class="change-item">
                    <h4>1. Yespower instead of SHA-256</h4>
                    <p>GPU miners don't get 1000x advantage anymore. More like 2x, if that. Not worth the driver headaches.</p>
                </div>
                <div class="change-item">
                    <h4>2. New genesis block</h4>
                    <p>Separate network. No confusion with BTC. No replay attacks. Clean slate.</p>
                </div>
                <div class="change-item">
                    <h4>3. Modern build system</h4>
                    <p>Compiles on Ubuntu 24.04, macOS, Windows. The original needed patches for anything newer than Ubuntu 10.04.</p>
                </div>
            </div>

            <p>Everything else is exactly as Satoshi left it. Same 21 million cap. Same 10 minute blocks. Same halving schedule. Same transaction format. Same script system. Same wallet behavior.</p>

            <h2>What Bitok Does NOT Change</h2>
            <ul class="no-list">
                <li>No new opcodes</li>
                <li>No SegWit</li>
                <li>No block size increase</li>
                <li>No layer 2</li>
                <li>No BIPs</li>
                <li>No governance</li>
                <li>No foundation</li>
                <li>No roadmap</li>
                <li>No improvement proposals</li>
            </ul>
            <p><strong>The protocol is frozen at December 2010.</strong></p>

            <h2>Why</h2>
            <p>I wanted to mine Bitcoin with my laptop. Not buy ASICs. Not join pools. Not pay for cloud hashrate.</p>
            <p>I couldn't, because of physics and economics.</p>
            <p>So I made this instead.</p>

            <h2>The Philosophy Part</h2>
            <p>Bitcoin's whitepaper is 9 pages. Most of it is math. Satoshi didn't write manifestos. He wrote code that worked and let people figure out what it meant.</p>
            <p>The code said: anyone can transact. Anyone can mine. No intermediaries. No permission.</p>
            <p>Somewhere along the way, "anyone can mine" became "anyone with industrial-scale infrastructure can mine." That happened gradually and probably inevitably.</p>
            <p><strong>Bitok is an experiment in what Bitcoin would look like if the mining algorithm had been different from the start.</strong></p>
            <p>Nothing more profound than that.</p>

            <h2>Who Is Tom Elvis Jedusor</h2>
            <p>An anagram. A Harry Potter reference. A pseudonym.</p>
            <p>Why does it matter?</p>

            <h2>Will This Succeed</h2>
            <p>Define "succeed."</p>
            <ul>
                <li>If you mean: will the software compile and run? <strong>Yes.</strong> I tested it.</li>
                <li>If you mean: will people use it? <strong>Some might. Most won't.</strong> That's fine.</li>
                <li>If you mean: will it be worth money? <strong>I genuinely don't know.</strong> Probably not much. Markets are weird and I don't predict them.</li>
                <li>If you mean: will it stay decentralized? <strong>That depends on whether enough people run nodes.</strong> I can't control that. Neither can you. That's the point.</li>
            </ul>

            <h2>No Promises</h2>
            <p>I'm not going to tell you this will change the world. I'm not going to tell you to buy it. I'm not going to tell you anything you want to hear just because it sounds good.</p>
            <p><strong>Here's software. It does what it says. Run it or don't.</strong></p>

            <div class="callout-info">
                <p><em>"Writing a description for this thing is bloody hard. There's nothing to quite relate it to."</em></p>
                <p><strong>- Satoshi Nakamoto, January 2009</strong></p>
                <p style="margin-top: 15px;"><strong>Still true.</strong></p>
            </div>

            <h2>Security Fixes Included</h2>
            <p>All security fixes from Bitcoin v0.3.19 are present:</p>
            <ul class="check-list">
                <li>Value overflow protection (the 184 billion coin bug)</li>
                <li>Blockchain checkpoints</li>
                <li>DoS limits</li>
                <li>IsStandard() transaction filtering</li>
            </ul>
            <p>Bitcoin forked once in August 2010 to fix the overflow bug. <strong>Bitok launches with all fixes in place. No forks needed.</strong></p>

            <div class="final-quote">
                <h2>Run the code.</h2>
                <p>That is the manifesto.</p>
            </div>
        </div>
    </main>
</div>

<style>
:root {
    --primary: #c59000;
    --bg-light: #f5f5f5;
    --bg-white: #fff;
    --border: #ccc;
    --text-dark: #333;
    --text-medium: #666;
    --code-bg: #2d2d2d;
    --code-text: #f8f8f2;
    --success: #4caf50;
    --info: #2196f3;
}

html, body {
    overflow-x: hidden;
    max-width: 100%;
}

.docs-wrapper {
    display: grid;
    grid-template-columns: 250px 1fr;
    gap: 30px;
    max-width: 1400px;
    margin: 0 auto;
}

.docs-sidebar {
    position: sticky;
    top: 20px;
    height: fit-content;
    background: var(--bg-light);
    border: 1px solid var(--border);
    padding: 20px;
}

.docs-sidebar h3 {
    margin: 0 0 15px 0;
    font-size: 18px;
    color: var(--text-dark);
    border-bottom: 2px solid var(--primary);
    padding-bottom: 10px;
}

.docs-nav {
    display: flex;
    flex-direction: column;
    gap: 5px;
}

.tab-link {
    display: block;
    padding: 12px 15px;
    color: var(--text-dark);
    text-decoration: none;
    font-size: 15px;
    border-left: 3px solid transparent;
    transition: all 0.2s;
    cursor: pointer;
    background: #fff;
    border-radius: 4px;
}

.tab-link:hover {
    background: #e8e8e8;
    border-left-color: var(--primary);
    text-decoration: none;
}

.tab-link.active {
    background: var(--primary);
    color: white;
    font-weight: bold;
    border-left-color: var(--primary);
}

.docs-main {
    background: var(--bg-white);
    border: 1px solid var(--border);
    padding: 40px;
    min-height: 80vh;
}

.tab-content {
    display: none;
}

.tab-content.active {
    display: block;
    animation: fadeIn 0.3s ease-in;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}

.docs-main h1 {
    font-size: 36px;
    color: var(--text-dark);
    margin: 0 0 15px 0;
    border-bottom: 3px solid var(--primary);
    padding-bottom: 15px;
}

.docs-main h2 {
    font-size: 28px;
    color: var(--text-dark);
    margin: 35px 0 15px 0;
    border-bottom: 2px solid #ddd;
    padding-bottom: 10px;
}

.docs-main h3 {
    font-size: 22px;
    color: #444;
    margin: 25px 0 12px 0;
}

.docs-main h4 {
    font-size: 18px;
    color: #555;
    margin: 20px 0 10px 0;
}

.lead {
    font-size: 18px;
    color: var(--text-medium);
    margin-bottom: 30px;
    line-height: 1.7;
}

.info-box {
    background: #e7f3ff;
    border-left: 4px solid var(--info);
    padding: 20px;
    margin: 25px 0;
}

.info-box h3 {
    margin-top: 0;
    color: var(--text-dark);
    font-size: 20px;
}

.grid-2 {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 20px;
    margin: 25px 0;
}

.feature-card {
    background: var(--bg-light);
    border: 1px solid var(--border);
    padding: 20px;
    border-radius: 6px;
}

.feature-card h4 {
    margin-top: 0;
    color: var(--text-dark);
}

.check-list, .no-list {
    line-height: 2;
    font-size: 15px;
}

.check-list li::marker {
    content: '✓ ';
    color: var(--success);
    font-weight: bold;
}

.no-list {
    list-style: none;
    padding-left: 0;
}

.no-list li::before {
    content: '✗ ';
    color: #999;
    font-weight: bold;
    margin-right: 8px;
}

.callout-info, .callout-success, .callout-warning {
    padding: 20px;
    margin: 25px 0;
    border-left: 4px solid;
    border-radius: 4px;
}

.callout-info {
    background: #e7f3ff;
    border-color: var(--info);
}

.callout-success {
    background: #e8f5e9;
    border-color: var(--success);
}

.callout-warning {
    background: #fff3e0;
    border-color: #ff9800;
}

.code-block {
    background: var(--code-bg);
    color: var(--code-text);
    padding: 20px;
    border-radius: 6px;
    font-family: 'Courier New', monospace;
    font-size: 14px;
    overflow-x: auto;
    margin: 20px 0;
    line-height: 1.6;
}

.specs-table {
    width: 100%;
    border-collapse: collapse;
    margin: 20px 0;
}

.specs-table th,
.specs-table td {
    padding: 12px;
    text-align: left;
    border: 1px solid var(--border);
}

.specs-table th {
    background: var(--bg-light);
    font-weight: bold;
}

.specs-table tr:nth-child(even) {
    background: #fafafa;
}

.platform-selector {
    display: flex;
    gap: 10px;
    margin: 25px 0;
}

.platform-btn {
    padding: 12px 24px;
    background: var(--bg-light);
    border: 2px solid var(--border);
    border-radius: 6px;
    cursor: pointer;
    font-size: 15px;
    font-weight: 500;
    transition: all 0.2s;
}

.platform-btn:hover {
    background: #e8e8e8;
}

.platform-btn.active {
    background: var(--primary);
    color: white;
    border-color: var(--primary);
}

.platform-content {
    display: none;
}

.platform-content.active {
    display: block;
    animation: fadeIn 0.3s ease-in;
}

.rpc-section {
    margin: 35px 0;
}

.rpc-command {
    margin: 25px 0;
    padding: 20px;
    background: var(--bg-light);
    border-left: 4px solid var(--primary);
    border-radius: 4px;
}

.rpc-command h4 {
    margin: 0 0 10px 0;
    color: var(--text-dark);
    font-family: 'Courier New', monospace;
    font-size: 16px;
}

.rpc-details {
    margin-top: 15px;
}

.quote-box {
    background: #f9f9f9;
    border-left: 4px solid var(--primary);
    padding: 20px;
    margin: 25px 0;
    font-style: italic;
}

.manifesto-quote {
    background: #fffef0;
    border: 2px solid var(--primary);
    padding: 30px;
    margin: 30px 0;
    text-align: center;
    font-size: 20px;
    font-weight: 500;
}

.code-compare {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 20px;
    margin: 25px 0;
}

.badge-yes, .badge-no {
    padding: 4px 12px;
    border-radius: 12px;
    font-weight: bold;
    font-size: 13px;
}

.badge-yes {
    background: #e8f5e9;
    color: var(--success);
}

.badge-no {
    background: #ffebee;
    color: #f44336;
}

.feature-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 20px;
    margin: 25px 0;
}

.feature-item {
    background: var(--bg-light);
    padding: 20px;
    border-radius: 6px;
    border: 1px solid var(--border);
}

.feature-item h4 {
    margin-top: 0;
    color: var(--text-dark);
}

.changes-list {
    margin: 25px 0;
}

.change-item {
    background: var(--bg-light);
    padding: 20px;
    margin: 15px 0;
    border-left: 4px solid var(--primary);
    border-radius: 4px;
}

.change-item h4 {
    margin: 0 0 10px 0;
    color: var(--text-dark);
}

.final-quote {
    text-align: center;
    padding: 40px;
    margin: 40px 0;
    background: #f9f9f9;
    border: 2px solid var(--primary);
}

.final-quote h2 {
    font-size: 32px;
    border: none;
    margin: 0 0 15px 0;
}

@media (max-width: 1024px) {
    .docs-wrapper {
        grid-template-columns: 1fr;
    }

    .docs-sidebar {
        position: static;
    }

    .docs-nav {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 10px;
    }

    .grid-2, .code-compare, .feature-grid {
        grid-template-columns: 1fr;
    }
}

@media (max-width: 640px) {
    .docs-main {
        padding: 20px;
    }

    .docs-nav {
        grid-template-columns: repeat(2, 1fr);
    }

    .platform-selector {
        flex-direction: column;
    }

    .docs-main h1 {
        font-size: 28px;
    }

    .docs-main h2 {
        font-size: 24px;
    }

    .code-block {
        font-size: 12px;
        padding: 15px;
    }
}
</style>

<script>
// Tab switching
document.querySelectorAll('.tab-link').forEach(link => {
    link.addEventListener('click', function(e) {
        e.preventDefault();
        const tabId = this.getAttribute('data-tab');

        // Update active tab link
        document.querySelectorAll('.tab-link').forEach(l => l.classList.remove('active'));
        this.classList.add('active');

        // Update active content
        document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
        document.getElementById(tabId).classList.add('active');
    });
});

// Platform switching in Building tab
document.querySelectorAll('.platform-btn').forEach(btn => {
    btn.addEventListener('click', function() {
        const platform = this.getAttribute('data-platform');

        // Update active button
        document.querySelectorAll('.platform-btn').forEach(b => b.classList.remove('active'));
        this.classList.add('active');

        // Update active platform content
        document.querySelectorAll('.platform-content').forEach(c => c.classList.remove('active'));
        document.getElementById(platform).classList.add('active');
    });
});
</script>
{% endblock %}
